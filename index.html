<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Roleta de Restaurantes</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 30px;
      background-color: #f4f4f4;
    }
    #resultado {
      font-size: 2em;
      margin: 20px 0;
      color: #333;
    }
    button {
      font-size: 1.1em;
      padding: 8px 16px;
      margin: 0 10px 20px 10px;
      border: none;
      border-radius: 8px;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #45a049;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;
    }
    .lista {
      width: 300px;
      max-height: 400px;
      overflow-y: auto;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .lista h2 {
      font-size: 1.1em;
      margin: 0;
      padding: 10px;
      background-color: #eee;
      position: sticky;
      top: 0;
      z-index: 1;
    }
    .lista ul {
      list-style: none;
      padding: 10px;
      margin: 0;
      text-align: left;
    }
    .lista li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <h1>üçΩÔ∏èPOA EM DOBRO 2025üçΩÔ∏è</h1>
  <button onclick="sortear()">üé≤ Sortear Restaurante</button>
  <button onclick="limparSorteios()">üßπ Limpar Sorteios</button>
  <div id="resultado"></div>

  <div class="container">
    <div class="lista">
      <h2>J√° Sorteados</h2>
      <ul id="jaSorteados"></ul>
    </div>
    <div class="lista">
      <h2>Restaurantes Restantes</h2>
      <ul id="restantes"></ul>
    </div>
    <div class="lista">
      <h2>Visitados</h2>
      <ul id="visitados"></ul>
    </div>
  </div>

  <script>
    let lista = [...new Set([
      "336 Hamburgueria", "A Braba Real", "A Casa Brasileira", "A√ßa√≠ da Barra", "Agridoce Caf√©",
      "Al√≠vio Bar", "Amira Shawarma", "Amorim", "Amuur", "Angelini", "Applebee‚Äôs Grill & Bar",
      "Armaz√©m POA", "Armaz√©n Box 18", "Atelier de Massas", "Atlanta Bar", "Avo", "Banca do A√ßa√≠",
      "Bar Lider", "Barbarella Bakery", "Barranquinho", "Beatnik", "Beco 24", "Bib‚Äôs", "Bibah",
      "Bierkeller", "Bistr√¥ do Mercado", "Bisou", "Boom Sabor que Faz Bem", "Boxfim Xis", "Brizza Forneria",
      "Brita Bar", "Brioche e Gelato", "Buena Pizza Social Club", "Bull√© Caf√© & Armaz√©n", "Caf√© Ang√©lica",
      "Caf√© Cultura", "Caf√© do Bem", "Caf√© do Mercado", "Caf√© Imperador", "Caf√© Mal Assombrado",
      "Cachorro do Bonfa", "Cantina Toscana", "Casa Mica", "Casa Revoa", "Casa do Vale", "Castellani Padaria",
      "Cavanhas", "Caucakes", "C√©u Zona Sul", "Charlie Confeitaria", "Chat√¥ Pizzaria",
      "Chal√© da Pra√ßa XV", "Ciao Slice Shop", "Coccaderia.Co", "Comfy Pizza", "Confeitaria Barcelona",
      "Confeitaria Dona In√™s", "D‚Äôjuca Confeitaria", "Da V√≥", "Dale Burger", "Delta Brick", "De Rua",
      "Di Toni Pasta i Basta", "Don Francesco Pastel", "Don Zarichta", "Doralice", "El Aguante Bar",
      "Encoura√ßo Bu=kin", "Entrecot & cia", "Famiglia Facin", "Fervo Bar", "Fold NYC Style", "Fogo",
      "Freda", "Gelato Borelli", "Giallo Sanduicheria", "Ginkgo", "Grazie Mille", "Green Station",
      "Griffe Patisserie", "Guaviare", "Hard Rock", "Hora do Pastel", "Horneria", "Imperial",
      "Inconfund√≠vel Burguer", "Jardim S√£o Geraldo", "Johnny e Julie", "Juro de Dedinho", "Konceito Lounge",
      "LaChiviteria", "Lancheria Luz", "Legado Sakaes", "Levante", "Libereco 32", "Libert√°rio", "Lola CCMQ",
      "Los Ferreros", "Los Pibes Burguers e Xis", "Luc Bistr√¥", "Madame Tetu", "Mark Hamburgueria",
      "Marchy Armaz√©n e Bistr√¥", "May√¥", "McCaf√©", "McDonald‚Äôs", "McDonald‚Äôs (√∫ltimo)", "Med Gastro Giardino",
      "Mercado Brasco", "Migra", "Milk Moo", "Mima Focacceria", "Moa Cafeteria", "Molt Be", "Monte L√≠bano",
      "Moishes Deli", "Mouros Dog", "Mr. Chau", "Mulligan", "Nanica", "Niki Lanches", "Nina Caf√© da Casa",
      "O‚ÄôPasta Tra[oria", "O‚ÄôSullivans Irish Pub", "Oh Bruder", "Olga Ra√≠zes", "Onze Bar", "Osso Parrilla Bar",
      "Osteria del Mercato", "Para√≠so Bowls", "Parrilla Hecho a Mano", "Paparico Taqueria", "Pampa",
      "Pampa Burguer", "Patio Barcelos", "Paddock & Co", "Petiskeira", "Pipoca de Ipanema",
      "Pito Bar e Cozinha", "Platinum Sushi (Yakisoba)", "Poa Caf√© e Armaz√©n", "Poa Parrilla", "Ponto Zero Bar e Cozinha",
      "Poplab", "Porto Burger", "Quincho Parrilla y Bar", "Quintanilha", "Rancho 141", "Raw Restaurante",
      "Real Fucking Burger", "Ref√∫gio A√ßa√≠", "Restaurante Figueiras", "Restaurante Marcos", "Restaurante Midbar",
      "Restaurante Naval", "Restaurante Origens", "Rinc√≥n 74", "Roister do Barra", "Royal Trudel", "Ruta Asado y Bar",
      "Sabor de Luna", "Salvador Gravata√≠", "Salvador Pontal", "Sando", "Santi Pizzeria Napoletana",
      "Santino Gelateria", "Savanna", "Shakespeare", "Sir√®ne", "Soc Ice Cream", "Soberano", "Sobrinho Hamburgers",
      "Spoiler", "Spoleto", "Squisito Fatta a Mano", "T.T Burguer", "Tartoni", "Terra do Churrasco",
      "The Raven", "Todo Cambia", "Todo Vene", "Tio Burguers", "Trigo Pizzaria", "Trianon Bauru",
      "T√∫ Bar", "Um Bar & Cozinha", "Up Food Art", "Uai Why", "Ver√≠ssimo Caf√©", "Via Pastel",
      "Ventralis BBQ e Burger", "Village Grill", "Vila Finamor", "Vincenzo Spagheteria", "Vivenda Portuguesa",
      "Vulcano Burguers", "Yami Caf√©", "Zuca"
    ])];

    let sorteados = JSON.parse(localStorage.getItem("sorteados")) || [];
    let visitados = JSON.parse(localStorage.getItem("visitados")) || [];

    function salvarDados() {
      localStorage.setItem("sorteados", JSON.stringify(sorteados));
      localStorage.setItem("visitados", JSON.stringify(visitados));
    }

    function atualizarListas() {
      const ulRestantes = document.getElementById("restantes");
      const ulSorteados = document.getElementById("jaSorteados");
      const ulVisitados = document.getElementById("visitados");

      ulRestantes.innerHTML = "";
      ulSorteados.innerHTML = "";
      ulVisitados.innerHTML = "";

      const sorteadosNaoVisitados = sorteados.filter(s => !visitados.includes(s.nome)).map(s => s.nome);
      const restantes = lista.filter(r => !visitados.includes(r)).sort();

      restantes.forEach(item => {
        const li = document.createElement("li");
        li.textContent = item;
        ulRestantes.appendChild(li);
      });

      sorteados.forEach(entry => {
        const li = document.createElement("li");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = visitados.includes(entry.nome);
        checkbox.onchange = () => {
          if (checkbox.checked) {
            if (!visitados.includes(entry.nome)) visitados.push(entry.nome);
          } else {
            visitados = visitados.filter(v => v !== entry.nome);
          }
          salvarDados();
          atualizarListas();
        };
        const label = document.createElement("label");
        label.appendChild(checkbox);
        label.appendChild(document.createTextNode(`${entry.nome} - ${entry.data}`));
        li.appendChild(label);
        ulSorteados.appendChild(li);
      });

      visitados.forEach(nome => {
        const li = document.createElement("li");
        li.textContent = nome;
        ulVisitados.appendChild(li);
      });
    }

    function sortear() {
      const jaSorteadosNaoVisitados = sorteados.filter(s => !visitados.includes(s.nome)).map(s => s.nome);
      const elegiveis = lista.filter(r =>
        !visitados.includes(r) &&
        !jaSorteadosNaoVisitados.includes(r)
      );

      if (elegiveis.length === 0) {
        document.getElementById("resultado").textContent = "Todos os restaurantes dispon√≠veis j√° foram visitados ou est√£o em sorteio!";
        return;
      }

      const indice = Math.floor(Math.random() * elegiveis.length);
      const escolhido = elegiveis[indice];
      const agora = new Date().toLocaleString();

      sorteados.unshift({ nome: escolhido, data: agora });
      document.getElementById("resultado").textContent = escolhido;
      salvarDados();
      atualizarListas();
    }

    function limparSorteios() {
      if (confirm("Tem certeza que deseja apagar todos os sorteios? Isso n√£o remove os visitados.")) {
        sorteados = [];
        salvarDados();
        atualizarListas();
        document.getElementById("resultado").textContent = "";
      }
    }

    atualizarListas();
  </script>
</body>
</html>
